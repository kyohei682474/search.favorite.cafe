カスタマー側カフェ一覧ページ

  <% @cafes.each do |cafe| %>
 <table>
 <tr>
  <td> カフェ名</td>
  <td> <%= link_to cafe.name,cafe_path(cafe.id) %></td>

 </tr>

 <tr>
  <td>住所<td>
  <td> <%= cafe.address %></td>
 </tr>

 <tr>
  <td> 営業時間 </td>
  <td><%= cafe.business_hours %></td>
 </tr>

 <tr>
  <td>評価 </td>
  <td><%= cafe.rate %></td>
 </tr>

</table>
<%end%>
<div id="map"></div>

<script>
  function initMap() {
    // 地図の初期化処理を記述
    var map = new google.maps.Map(document.getElementById('map'), {
      center: { lat: 35.6895, lng: 139.6917 }, // 地図の初期表示位置
      zoom: 12 // 地図のズームレベル
    });

    // カフェの位置情報を取得し、マーカーを表示
    <% @cafes.each do |cafe| %>
      var marker = new google.maps.Marker({
        position: { lat: <%= cafe.latitude %>, lng: <%= cafe.longitude %> },
        map: map,
        title: '<%= cafe.name %>'
      });
    <% end %>
  }
</script>

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBmTqa1XHfG6pKn45ryw4T6e3vOLQHN3fU&callback=initMap" async defer></script>